<div class="container mt-4 mb-4">
  <div *ngIf="products.length > 0; else noResults">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
      <div class="col" *ngFor="let product of products">
        <div
          class="card h-100 shadow-sm product-card-hover"
          (click)="viewProduct(product.id)"
        >
          <img
            [src]="product.imageUrl"
            [alt]="product.name"
            class="card-img-top product-image-fixed"
          />
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">
              {{ product.name | slice : 0 : 60
              }}{{ product.name.length > 60 ? "..." : "" }}
            </h5>
            <p class="card-text text-muted small">{{ product.category }}</p>
            <p class="card-text fw-bold fs-5">â‚¹{{ product.price }}</p>

            <p class="card-text text-success small mt-auto">
              Only {{ product.stock }} left!
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex justify-content-center mt-4">
    <button
      *ngIf="hasMore && !loadingMore"
      (click)="loadMore()"
      class="btn"
    >
      Load More
    </button>

    <div *ngIf="loadingMore" class="d-flex align-items-center">
      <div class="spinner-border text-primary me-2" role="status"></div>
      <span>Loading...</span>
    </div>
  </div>
  <ng-template #noResults>
    <div class="text-center py-5">
      <img
        src="no-results.png"
        alt="No Results Found"
        class="img-fluid mb-4"
        style="max-width: 200px"
      />
      <h2>No Products Found</h2>
      <p class="text-muted">
        We couldn't find any results for "<strong>{{ search }}</strong
        >". Try searching for something else.
      </p>
    </div>
  </ng-template>
</div>
